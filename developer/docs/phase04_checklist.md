# Phase 04 äº¤æ¥æ£€æŸ¥æ¸…å•

> **ä½¿ç”¨è¯´æ˜**: æ¥æ‰‹äººå‘˜è¯·æŒ‰é¡ºåºæ‰§è¡Œæ­¤æ¸…å•ï¼Œç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

---

## âœ… å¿«é€ŸéªŒæ”¶æµç¨‹ (5åˆ†é’Ÿ)

### 1. å¯åŠ¨åº”ç”¨
```bash
cd /Users/maziheng/Downloads/0.3.1\ working
npx electron electron/main.js
```

### 2. å¯¼èˆªæµ‹è¯•
- [ ] ä¸»ç•Œé¢ â†’ æ›´å¤š â†’ çœ‹åˆ°ç´«è‰²"âœï¸ å†™ä½œè¯„åˆ†"å¡ç‰‡
- [ ] ç‚¹å‡»å†™ä½œå¡ç‰‡ â†’ æˆåŠŸè¿›å…¥å†™ä½œæ¨¡å—
- [ ] å†™ä½œæ¨¡å— â†’ å†å² â†’ çœ‹åˆ°å†å²è®°å½•åˆ—è¡¨
- [ ] ä¸»ç•Œé¢ â†’ æµè§ˆ â†’ æ‰“å¼€ä»»æ„é¢˜ç›®
- [ ] é¢˜ç›®é¡µé¢åº•éƒ¨ â†’ çœ‹åˆ°"ğŸ  è¿”å›ä¸»é¡µ"æŒ‰é’®ï¼ˆç´«è‰²ï¼‰
- [ ] ç‚¹å‡»è¿”å›æŒ‰é’® â†’ æˆåŠŸè¿”å›ä¸»ç•Œé¢

### 3. æ ¸å¿ƒåŠŸèƒ½å¿«é€Ÿæ£€æŸ¥
- [ ] å†™ä½œæ¨¡å— â†’ é¢˜åº“ â†’ çœ‹åˆ°é¢˜ç›®åˆ—è¡¨
- [ ] å†™ä½œæ¨¡å— â†’ å†å² â†’ çœ‹åˆ°"ğŸ“Š å†å²ç»Ÿè®¡ä¸å¯¹æ¯”"åŒºåŸŸ
- [ ] åˆ‡æ¢ç»Ÿè®¡èŒƒå›´ï¼ˆå…¨éƒ¨/æœ€è¿‘10æ¬¡/æœ¬æœˆ/Task1/Task2ï¼‰â†’ é›·è¾¾å›¾æ›´æ–°
- [ ] å†™ä½œæ¨¡å— â†’ è®¾ç½® â†’ çœ‹åˆ°ä¸‰ä¸ªæ ‡ç­¾é¡µï¼ˆAPIé…ç½®/æç¤ºè¯/æ•°æ®ç®¡ç†ï¼‰

---

## ğŸ“‹ è¯¦ç»†åŠŸèƒ½æ£€æŸ¥æ¸…å•

### é¢˜åº“ç®¡ç† (TopicsPage)

**åŸºç¡€åŠŸèƒ½**:
- [ ] åˆ—è¡¨å±•ç¤ºæ­£å¸¸ï¼ˆTask 1/Task 2 é¢˜ç›®ï¼‰
- [ ] ç­›é€‰åŠŸèƒ½ï¼šç±»å‹ä¸‹æ‹‰æ¡†å·¥ä½œ
- [ ] ç­›é€‰åŠŸèƒ½ï¼šåˆ†ç±»ä¸‹æ‹‰æ¡†å·¥ä½œ
- [ ] ç­›é€‰åŠŸèƒ½ï¼šéš¾åº¦ä¸‹æ‹‰æ¡†å·¥ä½œ
- [ ] æœç´¢æ¡†è¾“å…¥ â†’ åˆ—è¡¨è¿‡æ»¤

**CRUD æ“ä½œ**:
- [ ] ç‚¹å‡»"æ–°å»ºé¢˜ç›®" â†’ å¼¹å‡ºè¡¨å•
- [ ] å¡«å†™é¢˜ç›®ä¿¡æ¯ â†’ ä¿å­˜æˆåŠŸ
- [ ] ç‚¹å‡»é¢˜ç›®å¡ç‰‡ â†’ æŸ¥çœ‹è¯¦æƒ…
- [ ] ç‚¹å‡»"ç¼–è¾‘" â†’ ä¿®æ”¹é¢˜ç›®
- [ ] ç‚¹å‡»"åˆ é™¤" â†’ ç¡®è®¤ååˆ é™¤

**æ‰¹é‡å¯¼å…¥**:
- [ ] ç‚¹å‡»"æ‰¹é‡å¯¼å…¥" â†’ ä¸Šä¼  JSON æ–‡ä»¶
- [ ] é¢„è§ˆå¯¼å…¥æ•°æ®
- [ ] ç¡®è®¤å¯¼å…¥ â†’ æ˜¾ç¤ºæˆåŠŸ/å¤±è´¥æŠ¥å‘Š

**ç©ºçŠ¶æ€**:
- [ ] æ— é¢˜ç›®æ—¶æ˜¾ç¤ºç©ºçŠ¶æ€æç¤º
- [ ] ç­›é€‰æ— ç»“æœæ—¶æ˜¾ç¤ºæç¤º

---

### å†å²è®°å½• (HistoryPage)

**åˆ—è¡¨ä¸ç­›é€‰**:
- [ ] å†å²è®°å½•åˆ—è¡¨å±•ç¤ºæ­£å¸¸
- [ ] æ—¥æœŸèŒƒå›´ç­›é€‰å·¥ä½œ
- [ ] åˆ†æ•°èŒƒå›´ç­›é€‰å·¥ä½œï¼ˆ0.5æ­¥é•¿ï¼‰
- [ ] ä»»åŠ¡ç±»å‹ç­›é€‰ï¼ˆTask 1/Task 2ï¼‰
- [ ] æœç´¢åŠŸèƒ½ï¼ˆé¢˜ç›®æ ‡é¢˜/å†…å®¹ï¼‰
- [ ] åˆ†é¡µåŠ è½½æ­£å¸¸

**è¯¦æƒ…æŸ¥çœ‹**:
- [ ] ç‚¹å‡»è®°å½• â†’ è¿›å…¥è¯¦æƒ…é¡µï¼ˆåªè¯»æ¨¡å¼ï¼‰
- [ ] è¯¦æƒ…é¡µæ˜¾ç¤ºå®Œæ•´è¯„åˆ†
- [ ] è¯¦æƒ…é¡µæ˜¾ç¤ºåé¦ˆå†…å®¹
- [ ] è¯¦æƒ…é¡µ"è¿”å›"æŒ‰é’®å·¥ä½œ

**æ‰¹é‡æ“ä½œ**:
- [ ] å‹¾é€‰å¤šæ¡è®°å½•
- [ ] ç‚¹å‡»"æ‰¹é‡åˆ é™¤" â†’ äºŒæ¬¡ç¡®è®¤ â†’ åˆ é™¤æˆåŠŸ
- [ ] ç‚¹å‡»"å¯¼å‡º" â†’ ä¸‹è½½ CSV æ–‡ä»¶
- [ ] ç‚¹å‡»"æ¸…ç©ºå†å²" â†’ äºŒæ¬¡ç¡®è®¤ï¼ˆæ–‡æœ¬ï¼š"ç¡®è®¤åˆ é™¤"ï¼‰â†’ æ¸…ç©ºæˆåŠŸ

---

### å†å²ç»Ÿè®¡ä¸é›·è¾¾å›¾

**ç»Ÿè®¡èŒƒå›´åˆ‡æ¢**:
- [ ] é€‰æ‹©"å…¨éƒ¨å†å²" â†’ é›·è¾¾å›¾æ›´æ–°
- [ ] é€‰æ‹©"æœ€è¿‘10æ¬¡" â†’ é›·è¾¾å›¾æ›´æ–°ï¼ˆæœ€å¤š10æ¡ï¼‰
- [ ] é€‰æ‹©"æœ¬æœˆ" â†’ é›·è¾¾å›¾æ›´æ–°
- [ ] é€‰æ‹©"Task 1ä¸“é¡¹" â†’ é›·è¾¾å›¾æ›´æ–°
- [ ] é€‰æ‹©"Task 2ä¸“é¡¹" â†’ é›·è¾¾å›¾æ›´æ–°

**é›·è¾¾å›¾æ˜¾ç¤º**:
- [ ] æ˜¾ç¤ºå››é¡¹è¯„åˆ†ï¼ˆTR/TA, CC, LR, GRAï¼‰
- [ ] è“è‰²çº¿ï¼šæœ€æ–°æˆç»©
- [ ] ç»¿è‰²çº¿ï¼šå¹³å‡æˆç»©
- [ ] å›¾ä¾‹æ­£ç¡®

**å¯¹æ¯”è¡¨æ ¼**:
- [ ] æ˜¾ç¤ºæœ€æ–° vs å¹³å‡å¯¹æ¯”
- [ ] æ˜¾ç¤ºå·®å€¼ï¼ˆ+/-ï¼‰
- [ ] æ˜¾ç¤ºè¶‹åŠ¿å›¾æ ‡ï¼ˆâ†‘/â†“/â†’ï¼‰
- [ ] é¢œè‰²ç¼–ç æ­£ç¡®ï¼ˆç»¿è‰²ä¸Šå‡/çº¢è‰²ä¸‹é™ï¼‰

**ç©ºçŠ¶æ€**:
- [ ] æ— å†å²æ•°æ®æ—¶æ˜¾ç¤ºç©ºçŠ¶æ€
- [ ] ç­›é€‰èŒƒå›´æ— æ•°æ®æ—¶æ˜¾ç¤ºæç¤º

**åè®®éªŒè¯** (å¼€å‘è€…å·¥å…· Console):
```javascript
// æ‰“å¼€ DevTools (Cmd+Option+I)
// åœ¨ Console æ‰§è¡Œï¼š
window.writingAPI.essays.getStatistics('all', null).then(console.log)

// æ£€æŸ¥è¿”å›æ ¼å¼ï¼š
// âœ… å¿…é¡»æœ‰ latest.tr_taï¼ˆä¸æ˜¯ task_response æˆ– task_achievementï¼‰
// âœ… å¿…é¡»æœ‰ average.avg_tr_taï¼ˆä¸æ˜¯ average_task_achievementï¼‰
```

---

### è®¾ç½®ç®¡ç† (SettingsPage)

**API é…ç½®**:
- [ ] åˆ—è¡¨æ˜¾ç¤ºå·²é…ç½®çš„ API
- [ ] ç‚¹å‡»"æ–°å»ºé…ç½®" â†’ è¡¨å•å¼¹å‡º
- [ ] å¡«å†™é…ç½®ä¿¡æ¯ â†’ ä¿å­˜æˆåŠŸ
- [ ] ç‚¹å‡»"æµ‹è¯•è¿æ¥" â†’ æ˜¾ç¤ºæµ‹è¯•ç»“æœ
- [ ] è®¾ç½®é»˜è®¤é…ç½® â†’ æ ‡è®°æ›´æ–°
- [ ] å¯ç”¨/ç¦ç”¨é…ç½® â†’ çŠ¶æ€åˆ‡æ¢
- [ ] åˆ é™¤é…ç½® â†’ ç¡®è®¤ååˆ é™¤

**æç¤ºè¯ç®¡ç†**:
- [ ] æ˜¾ç¤ºå½“å‰æç¤ºè¯ç‰ˆæœ¬
- [ ] ç‚¹å‡»"æŸ¥çœ‹" â†’ æ˜¾ç¤ºæç¤ºè¯å†…å®¹
- [ ] ç‚¹å‡»"å¯¼å‡º" â†’ ä¸‹è½½ JSON æ–‡ä»¶
- [ ] ç‚¹å‡»"å¯¼å…¥" â†’ ä¸Šä¼  JSON â†’ æ›´æ–°æˆåŠŸ
- [ ] ç‚¹å‡»"ç¼–è¾‘" â†’ äºŒæ¬¡ç¡®è®¤ â†’ å…è®¸ç¼–è¾‘

**æ•°æ®ç®¡ç†**:
- [ ] æ˜¾ç¤ºæ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯ï¼ˆé¢˜ç›®æ•°/å†å²æ•°ï¼‰
- [ ] è®¾ç½®ä¿ç•™æ¡æ•° â†’ ä¿å­˜æˆåŠŸ
- [ ] ç‚¹å‡»"æ¸…ç©ºå†å²" â†’ äºŒæ¬¡ç¡®è®¤ â†’ æ¸…ç©ºæˆåŠŸ
- [ ] æ˜¾ç¤ºæ•°æ®åº“è·¯å¾„

---

### å›¾ç‰‡ä¸Šä¼  (Task 1)

**ä¸Šä¼ åŠŸèƒ½**:
- [ ] å†™ä½œé¡µé¢ â†’ é€‰æ‹© Task 1
- [ ] ç‚¹å‡»å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ
- [ ] é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼ˆjpg/png/webpï¼‰
- [ ] å›¾ç‰‡ä¸Šä¼ æˆåŠŸ â†’ æ˜¾ç¤ºé¢„è§ˆ
- [ ] ç¼©ç•¥å›¾ç”ŸæˆæˆåŠŸ

**å›¾ç‰‡ç®¡ç†**:
- [ ] ç‚¹å‡»é¢„è§ˆå›¾ â†’ æ”¾å¤§æŸ¥çœ‹
- [ ] ç‚¹å‡»"åˆ é™¤" â†’ å›¾ç‰‡ç§»é™¤
- [ ] é‡æ–°ä¸Šä¼  â†’ æ›¿æ¢å›¾ç‰‡

**æ ¡éªŒ**:
- [ ] ä¸Šä¼ éå›¾ç‰‡æ–‡ä»¶ â†’ æ˜¾ç¤ºé”™è¯¯
- [ ] ä¸Šä¼ è¶…å¤§æ–‡ä»¶ï¼ˆ>5MBï¼‰â†’ æ˜¾ç¤ºé”™è¯¯

---

### å¯¼èˆªä¼˜åŒ–

**å†™ä½œæ¨¡å—å…¥å£**:
- [ ] ä¸»ç•Œé¢ â†’ æ›´å¤š
- [ ] çœ‹åˆ°ç´«è‰²é«˜äº®çš„"âœï¸ å†™ä½œè¯„åˆ†"å¡ç‰‡
- [ ] å¡ç‰‡æœ‰é¡¶éƒ¨ç´«è‰²æ¸å˜æ¡
- [ ] é¼ æ ‡æ‚¬åœ â†’ å¡ç‰‡ä¸Šæµ® + é˜´å½±å¢å¼º
- [ ] ç‚¹å‡»å¡ç‰‡ â†’ è¿›å…¥å†™ä½œæ¨¡å—

**é¢˜ç›®é¡µé¢è¿”å›æŒ‰é’®**:
- [ ] æ‰“å¼€ä»»æ„é˜…è¯»/å¬åŠ›é¢˜ç›®
- [ ] åº•éƒ¨å¯¼èˆªæ å·¦ä¾§çœ‹åˆ°"ğŸ  è¿”å›ä¸»é¡µ"æŒ‰é’®
- [ ] æŒ‰é’®ä¸ºç´«è‰²æ¸å˜èƒŒæ™¯
- [ ] é¼ æ ‡æ‚¬åœ â†’ æŒ‰é’®ä¸Šæµ® + é˜´å½±
- [ ] æœ‰æœªæäº¤ç­”æ¡ˆæ—¶ç‚¹å‡» â†’ å¼¹å‡ºç¡®è®¤æ¡†
- [ ] æ— æœªæäº¤ç­”æ¡ˆæ—¶ç‚¹å‡» â†’ ç›´æ¥è¿”å›ä¸»ç•Œé¢
- [ ] è¿”å›åä¸»ç•Œé¢æ­£å¸¸æ˜¾ç¤º

**å¯¼èˆªå®‰å…¨**:
- [ ] é¢˜ç›®é¡µé¢å¯ä»¥æ­£å¸¸æ‰“å¼€æœ¬åœ° HTML æ–‡ä»¶
- [ ] ç‚¹å‡»é¢˜ç›®å†…é“¾æ¥ä¸ä¼šè·³è½¬åˆ°å¤–éƒ¨ç½‘ç«™

---

## ğŸ“ æ–‡ä»¶ä¿®æ”¹æ¸…å•

### æ–°å¢æ–‡ä»¶ (~30ä¸ª)

**å‰ç«¯ç»„ä»¶**:
- `apps/writing-vue/src/views/TopicsPage.vue`
- `apps/writing-vue/src/views/HistoryPage.vue`
- `apps/writing-vue/src/views/SettingsPage.vue`
- `apps/writing-vue/src/components/RadarChart.vue`

**åç«¯ DAO**:
- `electron/db/dao/topics.dao.js`
- `electron/db/dao/essays.dao.js`
- `electron/db/dao/settings.dao.js`
- `electron/db/dao/api-configs.dao.js`
- `electron/db/dao/prompts.dao.js`

**åç«¯ Service**:
- `electron/services/topic.service.js`
- `electron/services/essay.service.js`
- `electron/services/upload.service.js`
- `electron/services/settings.service.js`

**IPC äº‹ä»¶**:
- `electron/ipc/topics.ipc.js`
- `electron/ipc/essays.ipc.js`
- `electron/ipc/upload.ipc.js`
- `electron/ipc/configs.ipc.js`
- `electron/ipc/prompts.ipc.js`
- `electron/ipc/settings.ipc.js`

### ä¿®æ”¹æ–‡ä»¶ (~15ä¸ª)

**æ ¸å¿ƒä¿®æ”¹**:
- âœ… `electron/services/essay.service.js` - ç»Ÿè®¡åè®®é”å®š
- âœ… `apps/writing-vue/src/views/HistoryPage.vue` - ç§»é™¤ fallback é€»è¾‘
- âœ… `apps/writing-vue/src/api/client.js` - ä¿®æ­£ API è°ƒç”¨
- âœ… `js/practice-page-enhancer.js` - æ³¨å…¥è¿”å›æŒ‰é’®
- âœ… `electron/main.js` - å¯¼èˆªå®‰å…¨ä¿®å¤
- âœ… `index.html` - å†™ä½œå…¥å£å¡ç‰‡
- âœ… `js/presentation/indexInteractions.js` - äº‹ä»¶å¤„ç†
- âœ… `css/main.css` - featured å¡ç‰‡æ ·å¼

**æ–‡æ¡£æ›´æ–°**:
- âœ… `developer/tests/smoke_test_guide.md`
- âœ… Artifact: `walkthrough.md`
- âœ… Artifact: `task.md`

---

## ğŸ› å·²çŸ¥é—®é¢˜ç¡®è®¤

### å·²ä¿®å¤ âœ…
- [x] ç»Ÿè®¡åè®®ä¸ä¸€è‡´ â†’ å·²é”å®š tr_ta/avg_tr_ta
- [x] API å®¢æˆ·ç«¯è°ƒç”¨é”™è¯¯ç«¯ç‚¹ â†’ å·²ä¿®æ­£
- [x] å‰ç«¯ fallback é€»è¾‘ â†’ å·²ç§»é™¤
- [x] å¯¼èˆªé™åˆ¶è¿‡ä¸¥ â†’ å·²æ”¾å®½æœ¬åœ°æ–‡ä»¶
- [x] CSS æ¸²æŸ“é”™è¯¯ â†’ å·²ä¿®å¤
- [x] ç¼ºå°‘å†™ä½œå…¥å£ â†’ å·²æ·»åŠ 
- [x] ç¼ºå°‘è¿”å›æŒ‰é’® â†’ å·²æ³¨å…¥

### å·²çŸ¥é™åˆ¶ âš ï¸
- [ ] å†å²æœç´¢åŠŸèƒ½æœªå®ç°ï¼ˆåç«¯éœ€ LIKE æŸ¥è¯¢ï¼‰
- [ ] è‰ç¨¿å­˜å‚¨ä½¿ç”¨ localStorageï¼ˆå¤§å†…å®¹å¯èƒ½éœ€ SQLiteï¼‰
- [ ] åº”ç”¨ç‰ˆæœ¬å·ç¡¬ç¼–ç ï¼ˆéœ€æ„å»ºæ—¶æ³¨å…¥ï¼‰
- [ ] è¯„åˆ†ç»“æœé¡µé¢ä¾èµ– sessionStorageï¼Œç¼ºå°‘ç¨³å®šè½åº“é“¾è·¯
- [ ] è®¾ç½®é¡µç¼ºå°‘ API é…ç½®/æç¤ºè¯å®Œæ•´ç®¡ç†é¢æ¿
- [ ] ä¾›åº”å•†è°ƒç”¨ç¼ºå°‘ä¸»å¤‡ç¼–æ’ã€é‡è¯•ä¸å†·å´æœºåˆ¶

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ
1. [ ] æŒ‰æ­¤æ¸…å•å®Œæ•´æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. [ ] è®°å½•å‘ç°çš„ä»»ä½•é—®é¢˜
3. [ ] éªŒè¯æ€§èƒ½ï¼ˆ100+ é¢˜ç›®/å†å²è®°å½•ï¼‰
4. [ ] æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Phase 05 å‡†å¤‡
1. [ ] å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½
2. [ ] æ•°æ®å¯¼å…¥å¯¼å‡ºå¢å¼º
3. [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰
4. [ ] é«˜çº§ç­›é€‰ä¸æœç´¢

---

## ğŸ“ ç´§æ€¥è”ç³»

### å…³é”®æ–‡ä»¶å¿«é€Ÿç´¢å¼•

**ç»Ÿè®¡åè®®ç›¸å…³**:
- åç«¯: `electron/services/essay.service.js:L41-L95`
- å‰ç«¯: `apps/writing-vue/src/views/HistoryPage.vue:L669-L721`
- API: `apps/writing-vue/src/api/client.js:L152-L156`

**å¯¼èˆªç›¸å…³**:
- å†™ä½œå…¥å£: `index.html:L204-L229`
- è¿”å›æŒ‰é’®: `js/practice-page-enhancer.js:L1338-L1420`
- å®‰å…¨æ§åˆ¶: `electron/main.js:L72-L77`

**æ•°æ®åº“**:
- Schema: `electron/db/schema.sql`
- åˆå§‹åŒ–: `electron/db/database.js`

### æ–‡æ¡£
- å®Œæ•´äº¤æ¥: `phase04_handover.md`
- è¿›åº¦è®°å½•: `walkthrough.md`
- æµ‹è¯•æŒ‡å—: `developer/tests/smoke_test_guide.md`
- éœ€æ±‚æ–‡æ¡£: `developer/docs/é›…æ€AIä½œæ–‡è¯„åˆ¤åº”ç”¨å®Œæ•´éœ€æ±‚æ–‡æ¡£.md`

---

**æ£€æŸ¥æ¸…å•ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2026-01-30 19:30  
**çŠ¶æ€**: âœ… Phase 04 æ ¸å¿ƒåŠŸèƒ½å®Œæˆï¼Œå¾…å…¨é¢éªŒæ”¶
